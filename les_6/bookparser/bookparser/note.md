Комментарии для семинара

Анализ картинок:

* анализ маленьких картинок: 
'//source[@type="image/jpeg"]/@srcset'

Два варианта:
    1) Разработчик запихивает картинку нормального размера и уменьшает ее с помощью стилей -> при получении картинка будет большого размера
    2) Разработчик загружает на сайт уже уменьшенную в размерах картинку

* анализ большой картинки (если она меняется при нажатии на маленькие) - создано типа скрытой карусели, которая прокручивается при нажатии на маленькое изображение

'//picture[@class="product-poster__main-picture"]//img/@src'

* анализ ссылок на картинки.
Бывает такое, что загружаемые с сайта ссылки почти одинаковы и отличаются лишь одной буквой или цифрой. Напрмер, на сайте м-видео (цифры 200 и 65):
https://img.mvideo.ru/Big/small_pic/200/20087664bb.jpg
https://img.mvideo.ru/Big/small_pic/65/20087664bb.jpg

или другой он-лайн площадке (буквы m и s):
https://static.onlinetrade.ru/img/items/m/mikrovolnovaya_pech_vstraivaemaya_krona_essen_60_ix_2940498_1.jpg
https://static.onlinetrade.ru/img/items/s/mikrovolnovaya_pech_vstraivaemaya_krona_essen_60_ix_2940498_4.jpg

В таком случае можно парсить любые удобные ссылки на изображения, а потом просто менять символ (букву или цифру) в ссылке


Обработка значений в Items.

Импортируем нужные обработчики 
from itemloaders.processors import TakeFirst, MapCompose, Compose
(их 6, чаще используются 3 выше).
Обработчики деляться на:
* предобработчики - срабатывают в момент вызова xpath() в пауке
* постобработчики - срабатывают в момент передачи значений в items путем вызова функции load_item()

При работы функции xpath() данные возвращаются в виде списка, поэтому постобработка (output_processor) заключается в изъятии элементов из списка - метод TakeFirst()
предобработка (input_processor) используем методы Compose и MapCompose, главное их различие заключается в том, что MapCompose применяет обработчик к каждому элементу списка и на выходе будет не список целиком, а лишь его элементы


